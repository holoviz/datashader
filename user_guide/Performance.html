
<!DOCTYPE html>

<html data-content_root="../" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Performance — Datashader v0.18.2</title>
<script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
<!--
    this give us a css class that will be invisible only if js is disabled
  -->
<noscript>
<style>
      .pst-js-only { display: none !important; }

    </style>
</noscript>
<!-- Loaded before other Sphinx assets -->
<link href="../_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet"/>
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet"/>
<link href="../_static/pygments.css?v=03e43079" rel="stylesheet" type="text/css"/>
<link href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" rel="stylesheet" type="text/css"/>
<link href="../_static/graphviz.css?v=4ae1632d" rel="stylesheet" type="text/css"/>
<link href="../_static/copybutton.css?v=76b2166b" rel="stylesheet" type="text/css"/>
<link href="../_static/sphinx-design.min.css?v=95c83b7e" rel="stylesheet" type="text/css"/>
<link href="../_static/nbsite.css?v=d9d93254" rel="stylesheet" type="text/css"/>
<link href="../_static/notebook.css?v=19946987" rel="stylesheet" type="text/css"/>
<link href="../_static/gallery.css?v=0a3248cd" rel="stylesheet" type="text/css"/>
<link href="../_static/alert.css?v=c26666be" rel="stylesheet" type="text/css"/>
<link href="../_static/dataframe.css?v=a0f274c1" rel="stylesheet" type="text/css"/>
<link href="../_static/scroller.css?v=2dcde208" rel="stylesheet" type="text/css"/>
<link href="../_static/hv-sidebar-dropdown.css?v=3e2b0152" rel="stylesheet" type="text/css"/>
<link href="../_static/css/custom.css?v=471973f3" rel="stylesheet" type="text/css"/>
<!-- So that users can add custom icons -->
<script src="../_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
<!-- Pre-loaded scripts that we'll load fully later -->
<link as="script" href="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" rel="preload"/>
<link as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" rel="preload"/>
<script src="../_static/documentation_options.js?v=29ae757a"></script>
<script src="../_static/doctools.js?v=9bcbadda"></script>
<script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
<script src="../_static/clipboard.min.js?v=a7894cd8"></script>
<script src="../_static/copybutton.js?v=f281be69"></script>
<script src="../_static/design-tabs.js?v=f930bc37"></script>
<script>
    window.goatcounter = {
        path: function(p) { return location.host + p }
    }
</script>
<script async="async" data-goatcounter="https://holoviz.goatcounter.com/count" src="../_static/js/goatcounter.js?v=f53f84b8"></script>
<script>DOCUMENTATION_OPTIONS.pagename = 'user_guide/Performance';</script>
<link href="../_static/favicon.ico" rel="icon"/>
<link href="../about.html" rel="author" title="About these documents"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="Geography.html" rel="next" title="Geography"/>
<link href="Extending.html" rel="prev" title="Extending"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<meta content="en" name="docsearch:language"/>
<meta content="0.18.2" name="docsearch:version"/>
<meta content="2025-08-05" name="docbuild:last-update"/>
</head>
<body data-bs-root-margin="0px 0px -60%" data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-default-mode="" data-offset="180">
<div class="skip-link d-print-none" id="pst-skip-link"><a href="#main-content">Skip to main content</a></div>
<div id="pst-scroll-pixel-helper"></div>
<button class="btn rounded-pill" id="pst-back-to-top" type="button">
<i class="fa-solid fa-arrow-up"></i>Back to top</button>
<dialog id="pst-search-dialog">
<form action="../search.html" class="bd-search d-flex align-items-center" method="get">
<i class="fa-solid fa-magnifying-glass"></i>
<input aria-label="Search the docs ..." autocapitalize="off" autocomplete="off" autocorrect="off" class="form-control" name="q" placeholder="Search the docs ..." spellcheck="false" type="search"/>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
</dialog>
<div class="pst-async-banner-revealer d-none">
<aside aria-label="Version warning" class="d-none d-print-none" id="bd-header-version-warning"></aside>
</div>
<header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
<button aria-label="Site navigation" class="pst-navbar-icon sidebar-toggle primary-toggle">
<span class="fa-solid fa-bars"></span>
</button>
<div class="col-lg-3 navbar-header-items__start">
<div class="navbar-item">
<a class="navbar-brand logo" href="../index.html">
<img alt="Datashader v0.18.2 - Home" class="logo__image only-light" src="../_static/logo_horizontal.svg"/>
<img alt="Datashader v0.18.2 - Home" class="logo__image only-dark pst-js-only" src="../_static/logo_horizontal.svg"/>
</a></div>
</div>
<div class="col-lg-9 navbar-header-items">
<div class="me-auto navbar-header-items__center">
<div class="navbar-item">
<nav>
<ul class="bd-navbar-elements navbar-nav">
<li class="nav-item">
<a class="nav-link nav-internal" href="../index.html">
    Introduction
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../getting_started/index.html">
    Getting Started
  </a>
</li>
<li class="nav-item current active">
<a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-external" href="https://examples.holoviz.org">
    Examples
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../releases.html">
    Releases
  </a>
</li>
<li class="nav-item dropdown">
<button aria-controls="pst-nav-more-links" aria-expanded="false" class="btn dropdown-toggle nav-item" data-bs-toggle="dropdown" type="button">
                    More
                </button>
<ul class="dropdown-menu" id="pst-nav-more-links">
<li class="">
<a class="nav-link dropdown-item nav-internal" href="../api.html">
    API
  </a>
</li>
<li class="">
<a class="nav-link dropdown-item nav-internal" href="../FAQ.html">
    FAQ
  </a>
</li>
<li class="">
<a class="nav-link dropdown-item nav-internal" href="../about.html">
    About
  </a>
</li>
</ul>
</li>
</ul>
</nav></div>
</div>
<div class="navbar-header-items__end">
<div class="navbar-item navbar-persistent--container">
<button aria-label="Search" class="btn search-button-field search-button__button pst-js-only" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Search">
<i class="fa-solid fa-magnifying-glass"></i>
<span class="search-button__default-text">Search</span>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
</div>
<div class="navbar-item">
<button aria-label="Color mode" class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" data-bs-placement="bottom" data-bs-title="Color mode" data-bs-toggle="tooltip">
<i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light" title="Light"></i>
<i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark" title="Dark"></i>
<i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i>
</button></div>
<div class="navbar-item"><ul aria-label="Icon Links" class="navbar-icon-links">
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://github.com/holoviz/datashader" rel="noopener" target="_blank" title="GitHub"><i aria-hidden="true" class="fa-brands fa-square-github fa-lg"></i>
<span class="sr-only">GitHub</span></a>
</li>
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://discourse.holoviz.org/c/datashader/" rel="noopener" target="_blank" title="Discourse"><i aria-hidden="true" class="fa-brands fa-discourse fa-lg"></i>
<span class="sr-only">Discourse</span></a>
</li>
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://discord.gg/AXRHnJU6sP" rel="noopener" target="_blank" title="Discord"><i aria-hidden="true" class="fa-brands fa-discord fa-lg"></i>
<span class="sr-only">Discord</span></a>
</li>
</ul></div>
</div>
</div>
<div class="navbar-persistent--mobile">
<button aria-label="Search" class="btn search-button-field search-button__button pst-js-only" data-bs-placement="bottom" data-bs-toggle="tooltip" title="Search">
<i class="fa-solid fa-magnifying-glass"></i>
<span class="search-button__default-text">Search</span>
<span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
</div>
<button aria-label="On this page" class="pst-navbar-icon sidebar-toggle secondary-toggle">
<span class="fa-solid fa-outdent"></span>
</button>
</div>
</header>
<div class="bd-container">
<div class="bd-container__inner bd-page-width">
<dialog id="pst-primary-sidebar-modal"></dialog>
<div class="bd-sidebar-primary bd-sidebar" id="pst-primary-sidebar">
<div class="sidebar-header-items sidebar-primary__section">
<div class="sidebar-header-items__center">
<div class="navbar-item">
<nav>
<ul class="bd-navbar-elements navbar-nav">
<li class="nav-item">
<a class="nav-link nav-internal" href="../index.html">
    Introduction
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../getting_started/index.html">
    Getting Started
  </a>
</li>
<li class="nav-item current active">
<a class="nav-link nav-internal" href="index.html">
    User Guide
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-external" href="https://examples.holoviz.org">
    Examples
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../releases.html">
    Releases
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../api.html">
    API
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../FAQ.html">
    FAQ
  </a>
</li>
<li class="nav-item">
<a class="nav-link nav-internal" href="../about.html">
    About
  </a>
</li>
</ul>
</nav></div>
</div>
<div class="sidebar-header-items__end">
<div class="navbar-item">
<button aria-label="Color mode" class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" data-bs-placement="bottom" data-bs-title="Color mode" data-bs-toggle="tooltip">
<i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light" title="Light"></i>
<i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark" title="Dark"></i>
<i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto" title="System Settings"></i>
</button></div>
<div class="navbar-item"><ul aria-label="Icon Links" class="navbar-icon-links">
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://github.com/holoviz/datashader" rel="noopener" target="_blank" title="GitHub"><i aria-hidden="true" class="fa-brands fa-square-github fa-lg"></i>
<span class="sr-only">GitHub</span></a>
</li>
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://discourse.holoviz.org/c/datashader/" rel="noopener" target="_blank" title="Discourse"><i aria-hidden="true" class="fa-brands fa-discourse fa-lg"></i>
<span class="sr-only">Discourse</span></a>
</li>
<li class="nav-item">
<a class="nav-link pst-navbar-icon" data-bs-placement="bottom" data-bs-toggle="tooltip" href="https://discord.gg/AXRHnJU6sP" rel="noopener" target="_blank" title="Discord"><i aria-hidden="true" class="fa-brands fa-discord fa-lg"></i>
<span class="sr-only">Discord</span></a>
</li>
</ul></div>
</div>
</div>
<div class="sidebar-primary-items__start sidebar-primary__section">
<div class="sidebar-primary-item"><!-- Adapted from sidebar-nav-bs.html (1.15.2) with the following changes

  - Commented out the tag that adds the "Section Navigation" title
  - Call generate_toctree_html with startdepth=0

Please update this file when required when bumping the max pin of pydata-sphinx-theme.
-->
<nav aria-label="Section Navigation" class="bd-docs-nav bd-links">
<!-- <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p> -->
<div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../index.html">Introduction</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../getting_started/index.html">Getting Started</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Pipeline.html">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting_started/Interactivity.html">Interactivity</a></li>
</ul>
</details></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">User Guide</a><details open="open"><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="Plotting_Pitfalls.html">Plotting Pitfalls</a></li>
<li class="toctree-l2"><a class="reference internal" href="Points.html">Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="Timeseries.html">Timeseries</a></li>
<li class="toctree-l2"><a class="reference internal" href="Trajectories.html">Trajectories</a></li>
<li class="toctree-l2"><a class="reference internal" href="Grids.html">Grids</a></li>
<li class="toctree-l2"><a class="reference internal" href="Trimesh.html">Trimesh</a></li>
<li class="toctree-l2"><a class="reference internal" href="Networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="Polygons.html">Polygons</a></li>
<li class="toctree-l2"><a class="reference internal" href="Extending.html">Extending</a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">Performance</a></li>
<li class="toctree-l2"><a class="reference internal" href="Geography.html">Geography</a></li>
<li class="toctree-l2"><a class="reference internal" href="Inspection_Reductions.html">Inspection Reductions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Geopandas.html">GeoPandas</a></li>
</ul>
</details></li>
<li class="toctree-l1"><a class="reference external" href="https://examples.holoviz.org">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases.html">Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FAQ.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
</ul>
</div>
</nav></div>
<div class="sidebar-primary-item">
<div class="hv-sb-dd">
<div class="btn-group">
<a class="btn hv-sb-dd-value" href="https://holoviz.org" target="_blank">HoloViz.org<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a>
<button aria-expanded="false" class="btn dropdown-toggle dropdown-toggle-split" data-bs-toggle="dropdown" type="button">
<span class="visually-hidden"></span>
</button>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="https://param.holoviz.org" target="_blank" title="Assembling objects from many different libraries into a layout or app, whether in a Jupyter notebook or in a standalone servable dashboard">Panel<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://hvplot.holoviz.org" target="_blank" title="Quickly return interactive HoloViews, GeoViews, or Panel objects from Pandas, Xarray, or other data structures">hvPlot<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://holoviews.org" target="_blank" title="Declarative objects for instantly visualizable data, building Bokeh plots from convenient high-level specifications">HoloViews<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://geoviews.org" target="_blank" title="Visualizable geographic data that that can be mixed and matched with HoloViews objects">GeoViews<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://param.holoviz.org" target="_blank" title="Make your Python code clearer and more reliable by declaring Parameters">Param<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://lumen.holoviz.org" target="_blank" title="Framework for visual analytics that allows users to build data-driven dashboards from a simple YAML specification">Lumen<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://colorcet.holoviz.org" target="_blank" title="A wide range of perceptually uniform continuous colormaps and perceptually based categorical color sets for use with the other libraries">Colorcet<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><hr class="dropdown-divider"/></li>
<li><a class="dropdown-item" href="https://examples.holoviz.org" target="_blank" title=" Visualization-focused examples using HoloViz for specific topics ">Examples Gallery<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
<li><a class="dropdown-item" href="https://blog.holoviz.org" target="_blank" title="HoloViz blog">Blog<i aria-hidden="true" class="fa fa-external-link hv-icon"></i></a></li>
</ul>
</div>
</div>
</div>
</div>
<div class="sidebar-primary-items__end sidebar-primary__section">
<div class="sidebar-primary-item">
<div class="flat" data-ea-manual="true" data-ea-publisher="readthedocs" data-ea-type="readthedocs-sidebar" id="ethical-ad-placement">
</div></div>
</div>
</div>
<main class="bd-main" id="main-content" role="main">
<div class="bd-content">
<div class="bd-article-container">
<div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
<div class="header-article-items__start">
<div class="header-article-item">
<nav aria-label="Breadcrumb" class="d-print-none">
<ul class="bd-breadcrumbs">
<li class="breadcrumb-item breadcrumb-home">
<a aria-label="Home" class="nav-link" href="../index.html">
<i class="fa-solid fa-home"></i>
</a>
</li>
<li class="breadcrumb-item"><a class="nav-link" href="index.html">User Guide</a></li>
<li aria-current="page" class="breadcrumb-item active"><span class="ellipsis">Performance</span></li>
</ul>
</nav>
</div>
</div>
</div>
</div>
<div id="searchbox"></div>
<article class="bd-article">
<section id="performance">
<h1>Performance<a class="headerlink" href="#performance" title="Link to this heading">#</a></h1>
<p>Datashader is designed to make it simple to work with even very large
datasets. To get good performance, it is essential that each step in the
overall processing pipeline be set up appropriately. Below we share some
of our suggestions based on our own <a class="reference external" href="https://github.com/holoviz/datashader/issues/313">benchmarking</a> and optimization
experience, which should help you obtain suitable performance in your
own work.</p>
<section id="file-formats">
<h2>File formats<a class="headerlink" href="#file-formats" title="Link to this heading">#</a></h2>
<p>Based on our <a class="reference external" href="https://github.com/holoviz/datashader/issues/129">testing with various file formats</a>, we recommend storing
any large columnar datasets in the <a class="reference external" href="https://parquet.apache.org/">Apache Parquet</a> format when
possible, using the <a class="reference external" href="https://github.com/dask/fastparquet">fastparquet</a> library with <a class="reference external" href="https://github.com/andrix/python-snappy">Snappy</a> compression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">dask.dataframe</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">dd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dd</span><span class="o">.</span><span class="n">to_parquet</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">df</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s2">"SNAPPY"</span><span class="p">)</span>
</pre></div>
</div>
<p>If your data includes categorical values that take on a limited, fixed
number of possible values (e.g. “Male”, “Female”),
Parquet’s categorical columns use a more memory-efficient data representation and
are optimized for common operations such as sorting and finding uniques.
Before saving, just convert the column as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="s1">'category'</span><span class="p">)</span>
</pre></div>
</div>
<p>By default, numerical datasets typically use 64-bit floats, but many
applications do not require 64-bit precision when aggregating over a
very large number of datapoints to show a distribution. Using 32-bit
floats reduces storage and memory requirements in half, and also
typically greatly speeds up computations because only half as much data
needs to be accessed in memory. If applicable to your particular
situation, just convert the data type before generating the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">df</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="n">colname</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="data-objects">
<h2>Data objects<a class="headerlink" href="#data-objects" title="Link to this heading">#</a></h2>
<p>Datashader performance will vary significantly depending on the library and specific data object type used to represent the data in Python, because different libraries and data objects have very different abilities to use the available processing power and memory. Moreover, different libraries and objects are appropriate for different types of data, due to how they organize and store the data internally as well as the operations they provide for working with the data. The various data container objects available from the supported libraries all fall into one of the following three types of data structures:</p>
<ul class="simple">
<li><p><strong><a class="reference external" href="https://pandas.pydata.org/pandas-docs/stable/getting_started/overview.html">Columnar (tabular) data</a></strong>: Relational, table-like data consisting of arbitrarily many rows, each with data for a fixed number of columns. For example, if you track the location of a particular cell phone over time, each time sampled would be a row, and for each time there could be columns for the latitude and longitude for the location at that time.</p></li>
<li><p><strong><a class="reference external" href="https://docs.xarray.dev/en/stable/getting-started-guide/why-xarray.html">n-D arrays (multidimensional data)</a></strong>: Data laid out in <em>n</em> dimensions, where <em>n</em> is typically &gt;1.  For example, you might have the precipitation measured on a latitude and longitude grid covering the whole world, for every time at which precipitation was measured. Such data could be stored columnarly, but it would be very inefficient; instead it is stored as a three dimensional array of precipitation values, indexed with time, latitude, and longitude.</p></li>
<li><p><strong><a class="reference external" href="https://en.wikipedia.org/wiki/Jagged_array">Ragged arrays</a></strong>: Relational/columnar data where the value of at least one column is a list of values that could vary in length for each row. For example, you may have a table with one row per US state and columns for population, land area, and the geographic shape of that state.  Here the shape would be stored as a polygon consisting of an arbitrarily long list of latitude and longitude coordinates, which does not fit efficiently into a standard columnar data structure due to its ragged (variable length) nature.</p></li>
</ul>
<p>As you can see, all three examples include latitude and longitude values, but they are very different data structures that need to be stored differently for them to be processed efficiently.</p>
<p>Apart from the data structure involved, the data libraries and objects differ by how they handle computation:</p>
<ul class="simple">
<li><p><strong>Single-core CPU</strong>: All processing is done serially on a single core of a single CPU on one machine. This is the most common and straightforward implementation, but the slowest, as there are generally other processing resources available that could be used.</p></li>
<li><p><strong>Multi-core CPU</strong>: All processing is done on a single CPU, but using multiple threads running on multiple separate cores. This approach is able to make use of all of the CPU resources available on a given machine, but cannot use multiple machines.</p></li>
<li><p><strong>Distributed CPU</strong>: Processing is distributed across multiple cores that may be on multiple CPUs in a cluster or a set of cloud-based machines. This approach can be much faster than single-CPU approaches when many CPUs are available. Distributed approaches also normally support multi-core usage, utilizing multiple cores on a single or on multiple CPUs.</p></li>
<li><p><strong>GPU</strong>: Processing is done not on the CPU but on a separate general-purpose graphics-processing unit (GP-GPU). The GPU typically has far more (though individually less powerful) cores available than a CPU does, and for highly parallelizable computations like those in Datashader a GPU can typically achieve much faster performance at a given price point than a CPU or distributed set of CPUs can. However, not all machines have a supported GPU, memory available on the GPU is often limited, and it takes special effort to support a GPU (e.g. to avoid expensive copying of data between CPU and GPU memory), and so not all CPU code has been rewritten appropriately.</p></li>
<li><p><strong>Distributed GPUs</strong>: When there are multiple GPUs available, processing can be distributed across all of the GPUs to further speed it up or to fit large problems into the larger total amount of GPU memory available across all of them.</p></li>
</ul>
<p>Finally, libraries differ by whether they can handle datasets larger than memory:</p>
<ul class="simple">
<li><p><strong>In-core processing</strong>: All data must fit into the directly addressable memory space available (e.g. RAM for a CPU); larger datasets have to be explicitly split up and processed separately.</p></li>
<li><p><strong>Out-of-core processing</strong>: The data library can process data in chunks that it reads in as needed, allowing it to work with data much larger than the available memory (at the cost of having to read in those chunks each time they are needed, instead of simply referring to the data in memory).</p></li>
</ul>
<p>Given all of these options, the data objects currently supported by Datashader are:</p>
<style type="text/css">.arbit .trary a { color: inherit; }.arbit .trary
.sL{text-align:center;padding:2px 2px 2px 2px;background-color:#ffffff;font-weight:bold;width:60px}.arbit .trary
.sG{text-align:center;padding:2px 2px 2px 2px;background-color:#ffffff;font-weight:bold;font-family:monospace}.arbit .trary
.sY{text-align:center;padding:2px 2px 2px 2px;background-color:#b7e1cd;}.arbit .trary 
.sN{text-align:center;padding:2px 2px 2px 2px;background-color:#f4c7c3;}.arbit .trary
.sM{text-align:center;padding:2px 2px 2px 2px;background-color:#fce8b2;}.arbit .trary
</style>
<div class="arbit">
<table cellpadding="0" cellspacing="0" class="trary">
<thead>
<tr>
<th class="sG">Data object</th>
<th class="sG">Structure</th>
<th class="sG">Compute</th>
<th class="sG">Memory</th>
<th class="sG">Description</th>
<th class="sG">points</th>
<th class="sG">line</th>
<th class="sG">area</th>
<th class="sG">trimesh</th>
<th class="sG">raster</th>
<th class="sG">quadmesh</th>
<th class="sG">polygons</th>
</tr>
</thead>
<tbody>
<tr>
<td class="sL"><a href="https://pandas.pydata.org">Pandas DF</a></td>
<td>columnar</td>
<td>1-core CPU</td>
<td>in-core</td>
<td>Standard dataframes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
</tr>
<tr>
<td class="sL"><a href="https://dask.org">DaskDF + PandasDF</a></td>
<td>columnar</td>
<td>distributed CPU</td>
<td>out-of-core</td>
<td>Distributed DataFrames</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
</tr>
<tr>
<td class="sL"><a href="https://github.com/rapidsai/cudf">cuDF</a></td>
<td>columnar</td>
<td>single GPU</td>
<td>in-core</td>
<td>NVIDIA GPU DataFrames</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sN">No</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
</tr>
<tr>
<td class="sL"><a href="https://docs.rapids.ai/api/cudf/stable/user_guide/10min/">DaskDF + cuDF</a></td>
<td>columnar</td>
<td>distributed GPU</td>
<td>out-of-core</td>
<td>Distributed NVIDIA GPUs</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sN">No</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
</tr>
<tr>
<td class="sL"><a href="https://github.com/holoviz/spatialpandas">SpatialPandasDF</a></td>
<td>ragged</td>
<td>1-core CPU</td>
<td>in-core</td>
<td>Ragged + spatial indexing</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sY">Yes</td>
</tr>
<tr>
<td class="sL"><a href="https://github.com/holoviz/spatialpandas">Dask + SpatialPandasDF</a></td>
<td>ragged</td>
<td>distributed CPU</td>
<td>out-of-core</td>
<td>Distributed ragged arrays</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sM">-</td>
<td class="sY">Yes</td>
</tr>
<tr>
<td class="sL"><a href="https://xarray.dev">Xarray + NumPy</a></td>
<td>n-D</td>
<td>1-core CPU</td>
<td>in-core</td>
<td>n-D CPU arrays</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
</tr>
<tr>
<td class="sL"><a href="(https://dask.org">Xarray+DaskArray</a></td>
<td>n-D</td>
<td>distributed CPU</td>
<td>out-of-core</td>
<td>Distributed n-D arrays</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sY">Yes</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
</tr>
<tr>
<td class="sL"><a href="https://cupy.chainer.org">Xarray+CuPy</a></td>
<td>n-D</td>
<td>single GPU</td>
<td>in-core</td>
<td>Single-GPU n-D arrays</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sN">No</td>
<td class="sY">Yes</td>
<td class="sM">-</td>
</tr>
</tbody></table></div>
<p>The right half of this table shows which of Datashader’s glyph types (<code class="docutils literal notranslate"><span class="pre">Canvas.points</span></code>, <code class="docutils literal notranslate"><span class="pre">Canvas.line</span></code>, etc.) are supported for that type of data object. Nearly all glyphs are supported where they would naturally apply, listed using the key:</p>
<ul class="simple">
<li><p><strong>Yes</strong>: Supported</p></li>
<li><p><strong>No</strong>: Not (yet) supported, but could be with sufficient development effort (feel free to contribute effort or funding!)</p></li>
<li><p><strong>-</strong>: Not supported because that combination is not normally appropriate or useful (e.g. columnar data libraries do not currently provide efficient multidimensional array support)</p></li>
</ul>
<p>In general, all it takes to use the indicated data object for a particular glyph type is to instantiate a DataFrame (Pandas, Dask, cuDF, SpatialPandas) or DataArray/DataSet (Xarray), and then pass it to the appropriate <code class="docutils literal notranslate"><span class="pre">ds.Canvas</span></code> method call, as illustrated in the various examples in the user guide and topics.</p>
<p>Be sure to consider whether a different <code class="docutils literal notranslate"><span class="pre">ds.Canvas</span></code> method might work for your data, if the obvious one does not support the features you want.  For instance, the <code class="docutils literal notranslate"><span class="pre">Canvas.quadmesh</span></code> glyph for irregularly spaced raster-like data also accepts regular rasters as a special case, and it includes optimization for that special case so that it can process such data efficiently on CPUs and GPUs. So if the features provided by <code class="docutils literal notranslate"><span class="pre">quadmesh</span></code> are sufficient for your raster processing, you may be able to use that method to get faster results on GPUs, which are not currently supported by <code class="docutils literal notranslate"><span class="pre">Canvas.raster</span></code>.</p>
</section>
<section id="using-dask-efficiently">
<h2>Using Dask efficiently<a class="headerlink" href="#using-dask-efficiently" title="Link to this heading">#</a></h2>
<p>Even on a single machine, a Dask DataFrame
typically give higher performance than Pandas, because it
makes good use of all available cores, and it also supports out-of-core
operation for datasets larger than memory.</p>
<p>Dasks works on chunks of the data at any one time, called partitions.
With Dask on a single machine, a rule of thumb for the number of
partitions to use is <code class="docutils literal notranslate"><span class="pre">multiprocessing.cpu_count()</span></code>, which allows Dask to
use one thread per core for parallelizing computations.</p>
<p>When the entire dataset fits into memory at once, you can (and should) persist the
data as a Dask dataframe prior to passing it into Datashader, to ensure
that data only needs to be loaded once:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">dask</span><span class="w"> </span><span class="kn">import</span> <span class="n">dataframe</span> <span class="k">as</span> <span class="n">dd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">multiprocessing</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mp</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dask_df</span> <span class="o">=</span> <span class="n">dd</span><span class="o">.</span><span class="n">from_pandas</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">npartitions</span><span class="o">=</span><span class="n">mp</span><span class="o">.</span><span class="n">cpu_count</span><span class="p">())</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dask_df</span><span class="o">.</span><span class="n">persist</span><span class="p">()</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cvs</span> <span class="o">=</span> <span class="n">datashader</span><span class="o">.</span><span class="n">Canvas</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">agg</span> <span class="o">=</span> <span class="n">cvs</span><span class="o">.</span><span class="n">points</span><span class="p">(</span><span class="n">dask_df</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<div id="scroller-right">This web page was generated from a Jupyter notebook and not all interactivity will work on this website. <a href="https://raw.githubusercontent.com/holoviz/datashader/main/examples/user_guide/10_Performance.ipynb">Right click to download and run locally</a> for full Python-backed interactivity.</div><hr class="docutils">
<p><a class="reference external" href="https://raw.githubusercontent.com/holoviz/datashader/main/examples/user_guide/10_Performance.ipynb">Right click to download this notebook from GitHub.</a></p>
</hr></section>
</article>
<footer class="prev-next-footer d-print-none">
<div class="prev-next-area">
<a class="left-prev" href="Extending.html" title="previous page">
<i class="fa-solid fa-angle-left"></i>
<div class="prev-next-info">
<p class="prev-next-subtitle">previous</p>
<p class="prev-next-title">Extending</p>
</div>
</a>
<a class="right-next" href="Geography.html" title="next page">
<div class="prev-next-info">
<p class="prev-next-subtitle">next</p>
<p class="prev-next-title">Geography</p>
</div>
<i class="fa-solid fa-angle-right"></i>
</a>
</div>
</footer>
</div>
<dialog id="pst-secondary-sidebar-modal"></dialog>
<div class="bd-sidebar-secondary bd-toc" id="pst-secondary-sidebar"><div class="sidebar-secondary-items sidebar-secondary__inner">
<div class="sidebar-secondary-item">
<div class="page-toc tocsection onthispage" id="pst-page-navigation-heading-2">
<i class="fa-solid fa-list"></i> On this page
  </div>
<nav aria-labelledby="pst-page-navigation-heading-2" class="bd-toc-nav page-toc">
<ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#file-formats">File formats</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#data-objects">Data objects</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-dask-efficiently">Using Dask efficiently</a></li>
</ul>
</nav></div>
</div></div>
</div>
<footer class="bd-footer-content">
</footer>
</main>
</div>
</div>
<!-- Scripts loaded after <body> so the DOM is not blocked -->
<script defer="" src="../_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer="" src="../_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>
<footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
<div class="footer-items__start">
<div class="footer-item"><p class="nbsite-copyright-last-updated">
<span class="copyright">
            © Copyright 2016-2025 Holoviz contributors.
    </span>
<span class="last-updated">Last updated on 2025-08-05.</span><br/>
</p></div>
</div>
<div class="footer-items__end">
<div class="footer-item">
<p class="theme-version">
<!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
</div>
</div>
</footer>
</body>
</html>